<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2_不适用函数柯里化的实现</title>
</head>
<body>
  <!-- 创建容器 -->
  <div id="test"></div>

  <!-- 引入react核心库-->
  <script src="../js/react.development.js"></script>
  <!-- 引入ract-dom 用于支持react操作dom-->
  <script src="../js/react-dom.development.js"></script>
  <!-- 引入babel 用于将jsx转为js-->
  <script src="../js/babel.min.js"></script>
</body>
</html>

<script type="text/babel">
  /*
  * 高阶函数：如果一个函数符合下面2个规范中的任何一个，那该函数就是高阶函数
        1. 若A函数，接受的参数是一个参数，A就可以称为高阶函数
        2. 若A函数，调用的返回值依然是一个函数，A就可以称为高阶函数
    
    函数的柯里化：通过函数调用继续返回函数的方式，实现多次接受参数后统一处理的函数编码形式
        function sum(a) {
          return (b) = > {
            return (c) = > {
              return a + b + c;
            }
          }
        }
  */

  // 创建组件
  class Login extends React.Component {
    // 初始化state
    state = {
      username: '',
      password: ''
    }

    // 保存表单数据到state中
    saveFormData = (dataType, event) => {
      this.setState({[dataType]: event.target.value})
    }

    handleSubmit = (event) => {
      // 阻止表单提交
      event.preventDefault();
      const {username, password} = this.state;
      alert(`输入的用户名为： ${username}，输入的密码为：${password}`);
    }

    render() {
      return (
        <form method="get" onSubmit={this.handleSubmit}>
          用户名：<input onChange={(event) => {this.saveFormData('username', event)}} name="username" type="text" />&nbsp;
          密码：<input onChange={(event) => {this.saveFormData('password', event)}} name="password" type="text" />&nbsp;
          <button>登录</button>
        </form>
      )
    }
  }

  // 渲染组件
  ReactDOM.render(<Login/>, document.getElementById('test'))
</script>